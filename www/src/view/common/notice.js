// Generated by CoffeeScript 2.6.1
var Box, m;

m = require("mithril");

Box = require("./box");

module.exports = {
  launch: function(json) {
    ({
      type: this.data.type = "peace",
      tip: this.data.tip = "提示",
      msg: this.data.msg = "忘记赋值了噢",
      content: this.data.content = void 0,
      confirm: this.method.confirm = function() {},
      cancel: this.method.cancel = function() {}
    } = {...json});
    return this.data.show = true;
  },
  data: {
    show: false,
    type: "peace",
    tip: "提示：",
    msg: "忘记赋值了噢",
    content: void 0
  },
  method: {
    confirm: function() {},
    cancel: function() {}
  },
  view: function() {
    var _this;
    _this = this;
    if (_this.data.show) {
      return m("", {
        style: {
          zIndex: 10000,
          position: "fixed",
          top: 0,
          bottom: 0,
          left: 0,
          right: 0,
          background: "rgba(0,0,0,0.5)",
          display: "flex",
          flexDirection: "column",
          justifyContent: "center",
          alignItems: "center",
          boxShadow: "0.1rem 0.1rem 1rem rgba(0,0,0,0.5)"
        }
      }, [
        m(Box,
        {
          class: (function() {
            switch (_this.data.type) {
              case "basic":
                return "animated shake";
              case "peace":
                return "animated pulse";
            }
          })(),
          style: {
            display: "grid",
            gridTemplateAreas: `"a a"
"b c"`
          },
          color: "white"
        },
        [
          // 如果有组件传入，直接展示组件
          _this.data.content ? m("",
          {
            style: {
              gridArea: "a"
            }
          },
          [m(_this.data.content)]) : m(Box,
          {
            style: {
              gridArea: "a"
            }
          },
          [m("strong",
          _this.data.tip),
          m("",
          _this.data.msg)]),
          m(Box,
          {
            color: "red",
            style: {
              gridArea: "b"
            },
            isBtn: true,
            onclick: function() {
              _this.method.confirm();
              return _this.data.show = false;
            }
          },
          "确定"),
          m(Box,
          {
            style: {
              gridArea: "c"
            },
            isBtn: true,
            onclick: function() {
              _this.method.cancel();
              return _this.data.show = false;
            }
          },
          "取消")
        ])
      ]);
    } else {
      return null;
    }
  }
};
